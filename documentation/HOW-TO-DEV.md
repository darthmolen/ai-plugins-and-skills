# Developer Guide

How to develop and contribute skills for AI-Plugins-And-Skills.

## Prerequisites

- **PowerShell** (5.1+ or pwsh 7+)
- **Git** with access to github [ai-plugins-and-skills](https://github.com/darthmolen/ai-plugins-and-skills) repository
- Familiarity with the [Agent Skills specification](https://agentskills.io/specification)

## Development Workflow

1. Create or edit a `SKILL.md` in the appropriate skill directory under `claude-code/plugins/<plugin>/skills/<skill-name>/`
2. If adding a new skill directory, update `plugin.yaml` if platform-specific config is needed
3. Run `.\scripts\build-plugin.ps1 -Validate` to validate compliance and regenerate all platform outputs
4. Commit both source files and generated outputs

## SKILL.md Format

Each skill is a directory containing a `SKILL.md` file. The file uses YAML frontmatter followed by Markdown instructions:

```yaml
---
name: my-skill-name          # Required. Lowercase, hyphens only. Max 64 chars.
description: >               # Required. Max 1024 chars.
  What this skill does and when to activate it.
allowed-tools: Read Write Edit Bash Glob Grep  # Optional. Tools the skill can use.
---

# Skill Instructions

Detailed instructions, patterns, rules, and examples for the AI agent.
```

The `name` must match the directory name. The `description` determines when AI agents activate the skill. See the full [specification](https://agentskills.io/specification) for all fields.

## Plugin.yaml Format

Each plugin has a `plugin.yaml` at its root -- the single source of truth for plugin metadata. The build script generates platform-specific manifests from this file.

```yaml
# Unified Plugin Manifest
name: development-quality-skills
version: 1.1.0
description: "Development Quality Skills"
license: Proprietary

author:
  name: ai-plugins-and-skills IT

repository: <<need-to-add-github-repo-here>>
keywords:
  - csharp
  - typescript
  - coding-standards

# Platform-specific features
platforms:
  claude-code:
    commands: ./commands/      # Slash commands (Claude Code only)
  copilot-cli: {}              # No CLI-specific config needed
```

Skills are auto-discovered from the `skills/` subdirectory. You do not need to list them in `plugin.yaml`.

## Build System

### Scripts

| Script | Purpose |
|--------|---------|
| `build-plugin.ps1` | Main build -- generates all platform outputs from `plugin.yaml` manifests |
| `validate-skills.ps1` | Validates `SKILL.md` files against the Agent Skills spec |
| `generate-index.ps1` | Legacy wrapper that calls `build-plugin.ps1` |

### Usage

```powershell
# Validate all SKILL.md files
.\scripts\validate-skills.ps1

# Generate all platform outputs
.\scripts\build-plugin.ps1

# Both at once
.\scripts\build-plugin.ps1 -Validate

# Skip README.md/ARCHITECTURE.md updates
.\scripts\build-plugin.ps1 -SkipReadme
```

### Generated Files

These files are generated by `build-plugin.ps1`. Do not edit them directly:

| File | Platform | Purpose |
|------|----------|---------|
| `.claude-plugin/marketplace.json` | Claude Code | Marketplace plugin registry |
| `.github/plugin/marketplace.json` | Copilot CLI | Marketplace plugin registry |
| `index.json` | All | Auto-generated plugin/skill index |
| `claude-code/plugins/*/.claude-plugin/plugin.json` | Claude Code | Per-plugin manifest |

The directory tree in `ARCHITECTURE.md` and the plugins table in `README.md` are also auto-generated by the build script.

## Adding a New Skill

1. Create a directory: `claude-code/plugins/<plugin>/skills/<skill-name>/`
2. Create `SKILL.md` with the required frontmatter (`name`, `description`)
3. Run `.\scripts\build-plugin.ps1 -Validate`
4. Verify the skill appears in `index.json` and the README plugins table
5. Commit all files (source + generated)

## Adding a New Plugin

1. Create a directory under `claude-code/plugins/<plugin-name>/`
2. Create `plugin.yaml` (see format above)
3. Create `skills/` subdirectory with at least one skill
4. Optionally create `commands/` with slash command `.md` files (Claude Code only)
5. Run `.\scripts\build-plugin.ps1 -Validate`
6. Verify outputs in `.claude-plugin/`, `.github/plugin/`, and `index.json`
7. Commit all files

## Platform-Specific Notes

### Claude Code Commands

Claude Code supports slash commands via Markdown files in a plugin's `commands/` directory. These are declared in `plugin.yaml` under `platforms.claude-code.commands`. Copilot CLI and VS Code Copilot do not have an equivalent command system.

### Copilot CLI Marketplace

Copilot CLI uses `.github/plugin/marketplace.json` for plugin discovery. The format differs slightly from Claude Code's `.claude-plugin/marketplace.json`. Both are generated from the same `plugin.yaml` source.

### VS Code Copilot Skill Discovery

VS Code Copilot discovers skills from several locations:
- `.github/skills/<skill-name>/` (project-level, primary)
- `.claude/skills/<skill-name>/` (project-level, backwards compatible)
- `~/.copilot/skills/<skill-name>/` (user-level, available in all projects)
- Custom paths via `chat.agentSkillsLocations` setting

Our skills live in `claude-code/plugins/<plugin>/skills/` and are made available to VS Code Copilot users via the `chat.agentSkillsLocations` setting. See [README-VSCODE-COPILOT.md](README-VSCODE-COPILOT.md) for installation instructions.
